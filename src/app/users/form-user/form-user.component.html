<form [formGroup]="userForm" class="h-100" (ngSubmit)="onSubmit()">
  <div style="height:calc(100% - 60px)">

    <h1 mat-dialog-title class="p-1 w-100 text-center text-capitalize border-bottom bg-secondary text-white shadow  rounded">
      Edycja danych użytkownika</h1>

    <!-- username -->
    <mat-form-field  class="w-100 p-1">
      <mat-label>Nazwa użytkownika</mat-label>
      <input matInput formControlName="editUsername"  cdkFocusInitial >
      <mat-error *ngIf="editUsername.errors?.minlength &&! editUsername.errors?.required">
        Prosze wprowadzić nazwę grupy, składającą się z przynajmniej 3 znaków
      </mat-error>
      <mat-error *ngIf="editUsername.errors?.required">
        To pole jest <strong>wymagane</strong>
      </mat-error>
    </mat-form-field>

    <!-- password -->
    <mat-form-field  class="w-50 p-1">
      <mat-label>Nowe hasło</mat-label>
      <input matInput type="password" autocomplete="new-password" formControlName="editPassword" cdkFocusInitial >
      <mat-error *ngIf="editPassword.errors?.minlength">
        Wpisz minimum 5 znaków
      </mat-error>
    </mat-form-field>

    <!-- rePassword -->
    <mat-form-field  class="w-50 p-1">
      <mat-label>Powtórz hasło</mat-label>
      <input matInput type="password" autocomplete="new-password" formControlName="rePassword" cdkFocusInitial >
      <mat-error *ngIf="rePassword.errors?.notUnique">
        Wpisane hasła nie są identyczne
      </mat-error>
    </mat-form-field>

    <!-- email -->
    <mat-form-field  class="w-100 p-1">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" cdkFocusInitial >
      <mat-error *ngIf="email.errors?.minlength &&! email.errors?.required">
        Prosze wprowadzić nazwę grupy, składającą się z przynajmniej 3 znaków
      </mat-error>
      <mat-error *ngIf="email.errors?.required">
        To pole jest <strong>wymagane</strong>
      </mat-error>
    </mat-form-field>

    <!-- first_name -->
    <mat-form-field  class="w-100 p-1">
      <mat-label>Imię</mat-label>
      <input matInput formControlName="first_name" cdkFocusInitial >
      <mat-error *ngIf="first_name.errors?.minlength &&! first_name.errors?.required">
        Prosze wprowadzić nazwę grupy, składającą się z przynajmniej 3 znaków
      </mat-error>
      <mat-error *ngIf="first_name.errors?.required">
        To pole jest <strong>wymagane</strong>
      </mat-error>
    </mat-form-field>

    <!-- last_name -->
    <mat-form-field  class="w-100 p-1">
      <mat-label>Nazwisko</mat-label>
      <input matInput formControlName="last_name" cdkFocusInitial >
      <mat-error *ngIf="last_name.errors?.minlength &&! last_name.errors?.required">
        Prosze wprowadzić nazwę grupy, składającą się z przynajmniej 3 znaków
      </mat-error>
      <mat-error *ngIf="last_name.errors?.required">
        To pole jest <strong>wymagane</strong>
      </mat-error>
    </mat-form-field>

    <!-- is_staff -->
    <div mat-dialog-actions class="p-1 d-flex justify-content-between">
      <mat-label>Użytkownik jest administratorem</mat-label>
      <mat-slide-toggle formControlName="is_staff" class="ml-4"></mat-slide-toggle>
    </div>

    <!-- is_active -->
    <div mat-dialog-actions class="mt-3 p-1 d-flex justify-content-between">
      <mat-label>Użytkownik jest aktywny</mat-label>
      <mat-slide-toggle formControlName="is_active" class="ml-4"></mat-slide-toggle>
    </div>

    </div>
    <div mat-dialog-actions class="p-2 border-top d-flex justify-content-end">
      <button mat-raised-button class="btn btn-secondary" type="button" (click)="onNoClick()" >Anuluj</button>
      <button mat-raised-button class="btn btn-success" type="submit" [disabled]="!userForm.valid" >Zapisz</button>
    </div>
  </form>
